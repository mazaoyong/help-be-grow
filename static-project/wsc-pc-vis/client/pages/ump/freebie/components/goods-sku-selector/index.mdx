---
menu: 营销组件
name: GoodsSkuSelector
route: /goods-sku-selector
---

import { Playground } from 'docz';
import { Sweetalert } from 'zent';
import { open } from './index';
import Selector from './selector';
import mockApi from './__mocks__';
import './style/index.scss';

## 简介

适用于营销活动配置的商品 SKU 选择组件。

> Owner: 淳华、廖小油

## 使用

```js
import { GoodsSkuSelector } from '@youzan/react-components';

const { open, close, Selector } = GoodsSkuSelector;
```

### Demo

<Playground>
  <Selector
    fetchApi={mockApi}
    onChange={data => {
      Sweetalert.alert({
        title: '已选数据',
        content: JSON.stringify(data),
      });
    }}
  />
</Playground>

### 多选

<Playground>
  <Selector
    multiple
    enableNegativeStock
    fetchApi={mockApi}
    onChange={data => {
      Sweetalert.alert({
        title: '已选数据',
        content: JSON.stringify(data),
      });
    }}
  />
</Playground>

### 多选选中状态

<Playground>
  <Selector
    multiple
    fetchApi={mockApi}
    selected={{
      online: {
        type: 'part',
        value: [
          {
            isSku: false,
            id: 364659316,
            goodsId: 364659316,
          },
          {
            isSku: false,
            id: 364660610,
            goodsId: 364660610,
          },
          {
            isSku: true,
            goodsId: 364430888,
            id: 364430888,
            skuInfo: {
              sku: [
                {
                  skuId: 1060967,
                },
                {
                  skuId: 1060971,
                },
              ],
            },
          },
          {
            isSku: false,
            id: 364430868,
            goodsId: 364430868,
          },
        ],
      },
      offline: {
        type: 'part',
        value: [],
      },
    }}
    onChange={data => {
      Sweetalert.alert({
        title: '已选数据',
        content: JSON.stringify(data),
      });
    }}
  />
</Playground>

### 允许负库存

<Playground>
  <Selector
    fetchApi={mockApi}
    enableNegativeStock
    onChange={data => {
      Sweetalert.alert({
        title: '已选数据',
        content: JSON.stringify(data),
      });
    }}
  />
</Playground>

### 称重商品不可选

<Playground>
  <Selector
    fetchApi={mockApi}
    supportWeighItem={false}
    onChange={data => {
      Sweetalert.alert({
        title: '已选数据',
        content: JSON.stringify(data),
      });
    }}
  />
</Playground>

### 串码商品不可选

<Playground>
  <Selector
    fetchApi={mockApi}
    supportSerialItem={false}
    onChange={data => {
      Sweetalert.alert({
        title: '已选数据',
        content: JSON.stringify(data),
      });
    }}
  />
</Playground>

### 使用 `open`

<Playground>
  <a
    onClick={() => {
      open({
        fetchApi: mockApi,
        style: {
          width: '790px',
        },
      });
    }}
  >
    选择商品
  </a>
</Playground>

## API

| 参数                | 说明                  | 类型   | 默认值                                | 备选值 | 是否必填 |
| ------------------- | --------------------- | ------ | ------------------------------------- | ------ | -------- |
| multiple            | 是否支持多选          | bool   | `false`                               |        | 否       |
| channels            | 渠道                  | array  | `['online', 'offline']`               |        | 否       |
| offlineManageUrl    | 门店商品管理 URL      | string | `full('/goods/goods/store', 'store')` |        | 否       |
| onlineManageUrl     | 网店商品管理 URL      | string | `full('/goods/goods/shop', 'store')`  |        | 否       |
| enableNegativeStock | 是否允许负库存        | bool   | `false`                               |        | 否       |
| supportWeighItem    | 是否允许选择称重商品  | bool   | `true`                                |        | 否       |
| supportSerialItem   | 是否允许选择串码商品  | bool   | `true`                                |        | 否       |
| supportPreSale      | 是否允许选择预售商品  | bool   | `true`                                |        | 否       |
| fetchApi            | 请求 API              | func   |                                       |        | 是       |
| showClearAll        | 是否展示清空全部      | bool   | `true`                                |        | 否       |
| onConfirm           | 确认                  | func   | `noop`                                |        | 否       |
| onCancel            | 取消                  | func   | `noop`                                |        | 否       |
| selected            | 已选中的商品 SKU 数据 | object | `{ offline: {}, online: {} }`         |        | 否       |
| onChange            | onChange 回调         | func   |                                       |        | 是       |
