# 攒学费活动落地页


## 业务介绍

攒学费营销活动

## 开发


### 目录结构

``` plaintext
wsc-h5-vis/client/pages/ump/tuition
├── App.vue  ------------------  主页面
├── api.ts  -------------------  接口文件
├── blocks  -------------------  页面区块文件夹
├── components  ---------------  组件文件夹
├── constants.ts  -------------  常量
├── main.ts  ------------------  单页主入口
├── router.ts  ----------------  路由定义
├── store  --------------------  Store 文件
├── styles.scss  --------------  样式文件
├── styles.scss.d.ts  ---------  样式文件的定义
├── track.ts  -----------------  埋点
├── types  --------------------  ts 定义
└── utils.ts  -----------------  工具函数
```

### 业务梳理

攒学费有活动模板和活动实例的，活动模板对于店铺来说的，定义了一个活动的基本信息（起始时间、学费阶段等），而活动实例则是用户在这个活动模板下参加了活动，生成了一个属于这个用户的实例，包含了攒到的学费、助力了多少人等信息。

#### 活动的状态

活动模板和活动实例各有各自的状态，而 ui 则是根据这些状态来的。为了简化（不至于判断 m x n 种状态），结合活动模板和活动实例，产生了如下几种状态（活动状态）：

| 活动模板状态 | 活动实例状态 | 活动状态 | 备注 |
| ------------ | ------------ | -------- | ---- |
| 未开始       | -            | 未开始   |      |
| 进行中       | 无实例       | 未参与   |      |
| 进行中       | 已经兑换     | 已兑换   |      |
| 进行中       | 集赞中       | 进行中   |      |
| 进行中       | 已集齐       | 已集齐   |      |
| 已结束       | -            | 已结束   |      |

具体代码逻辑在 `store/getters.ts#activityStatus`。

那么，ui 显示逻辑均判断这几种状态即可。



### 活动流程





